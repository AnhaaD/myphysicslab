#comment Copyright 2016 Erik Neumann. All Rights Reserved.
#comment Use of this source code is governed by the Apache License, Version 2.0.
#comment See the LICENSE file and http://www.apache.org/licenses/LICENSE-2.0.
#define #TOP_DIR ..
#define #APP_PATH test.UnitTest
#include "#TOP_DIR/macros.html"
#include "#TOP_DIR/macros_vert.html"
#define #SRC_DIR ../../src
#DOC_TYPE
<html lang="en">
<head>
#META_TAGS
#HIDE_ALL
</head>

<!--
* Runs a set of unit tests.
*
* When running uncompiled, the set is specified via <script> tags, which
* cause those unit test scripts to be loaded, so that their various functions
* are defined in the global scope.  The unit test functions have names starting
* with the word 'test' which allows them to be found by goog.testing.junit.
*
* The unit test is activated if one of the unit tests includes the line
*   goog.require('goog.testing.jsunit');
* which causes a function in jsunit to auto-execute (after all the scripts
* on the page have loaded).  That function looks for functions in the global scope
* whose name begins with 'test', and it then runs all those tests in alphabetic
* order, reporting the results by inserting elements into the webpage.
* You can also see the results in the console.
*
* NOTE: when adding a test, add it also in compile_test.sh.
*
* The compiled version of the unit tests is created by compile_test.sh which
* has a parallel list of unit test namespaces to run.  For example,
* including the namespace "myphysicslab.lab.util.vector_test" will cause
* the contents of the file at src/lab/util/vector_test.js to be compiled
* because that file includes the statement
*     goog.provide('myphysicslab.lab.util.vector_test');
* Note that there is not any object created for that namespace.
* It is only a way to trick the compiler into compiling that particular file,
* which results in various test functions, such as 'testVector', being added
* to the global scope so that goog.testing.jsunit can find them, similar to
* the uncompiled method.
*
* Unit tests need to use goog.exportProperty to ensure the name
* of the unit test functions are not minified, so that goog.testing.jsunit
* can find them by looking for functions that being with 'test'.
-->

<body>
#SITE_LOGO
<h1>#APP_PATH #DEBUG_STATUS</h1>
#HEADER_BAR
<!-- p with 'clear' ensures test doesn't overlap floating navigation elements -->
<p style="clear: both; margin:0;">
#COMPILED_MENU
</p>

#define #compiled_LOAD_APP <script src="#FILE_NAME#-#LOCALE.js"></script>

#define #debug_LOAD_APP \
  <script src="#TOP_DIR/../closure-library/closure/goog/base.js"></script>\
  <script src="#TOP_DIR/deps.js"></script>\
  <script>\
    // goog.testing.MockClock uses goog.async.run which requires goog.DEBUG=true.\
    goog.define('goog.DEBUG', true);\
  </script>\
  <!-- The following specifies which unit tests to run.\
  * NOTE: when adding a test, also need to change the list in compile_test.sh\
  -->\
  <script>\
    goog.require('myphysicslab.lab.engine2D.test.CircularEdge_test');\
    goog.require('myphysicslab.lab.engine2D.test.EdgeSet_test');\
    goog.require('myphysicslab.lab.engine2D.test.Polygon_test');\
    goog.require('myphysicslab.lab.engine2D.test.RigidBodySim_test');\
    goog.require('myphysicslab.lab.engine2D.test.StraightEdge_test');\
    goog.require('myphysicslab.lab.engine2D.test.UtilEngine_test');\
    goog.require('myphysicslab.lab.engine2D.test.Vertex_test');\
    goog.require('myphysicslab.lab.model.test.EnergyInfo_test');\
    goog.require('myphysicslab.lab.model.test.ConcreteLine_test');\
    goog.require('myphysicslab.lab.model.test.NumericalPath_test');\
    goog.require('myphysicslab.lab.model.test.PointMass_test');\
    goog.require('myphysicslab.lab.model.test.SimList_test');\
    goog.require('myphysicslab.lab.model.test.Spring_test');\
    goog.require('myphysicslab.lab.model.test.VarsList_test');\
    goog.require('myphysicslab.lab.util.test.AbstractSubject_test');\
    goog.require('myphysicslab.lab.util.test.AffineTransform_test');\
    goog.require('myphysicslab.lab.util.test.CircularList_test');\
    goog.require('myphysicslab.lab.util.test.DoubleMath_test');\
    goog.require('myphysicslab.lab.util.test.DoubleRect_test');\
    goog.require('myphysicslab.lab.util.test.MutableVector_test');\
    goog.require('myphysicslab.lab.util.test.ParameterBoolean_test');\
    goog.require('myphysicslab.lab.util.test.ParameterNumber_test');\
    goog.require('myphysicslab.lab.util.test.ParameterString_test');\
    goog.require('myphysicslab.lab.util.test.RandomLCG_test');\
    goog.require('myphysicslab.lab.util.test.ScriptParser_test');\
    goog.require('myphysicslab.lab.util.test.Terminal_test');\
    goog.require('myphysicslab.lab.util.test.TimerClock_test');\
    goog.require('myphysicslab.lab.util.test.UtilityCore_test');\
    goog.require('myphysicslab.lab.util.test.Vector_test');\
    goog.require('myphysicslab.lab.view.test.CoordMap_test');\
    goog.require('myphysicslab.lab.view.test.DisplayList_test');\
    goog.require('myphysicslab.lab.view.test.DisplayShape_test');\
    goog.require('myphysicslab.lab.view.test.DisplaySpring_test');\
    goog.require('myphysicslab.lab.view.test.LabCanvas_test');\
    goog.require('myphysicslab.lab.view.test.ScreenRect_test');\
    goog.require('myphysicslab.lab.view.test.SimView_test');\
    goog.require('myphysicslab.sims.pendulum.test.DoublePendulum_test');\
    goog.require('myphysicslab.sims.springs.test.SingleSpring_test');\
    goog.require('myphysicslab.sims.roller.test.Roller_test');\
  </script>

#LOAD_APP
#SHOW_ALL
#PAGE_FOOTER
</body>
</html>
